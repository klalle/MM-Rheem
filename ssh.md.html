<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/monokai.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/languages/go.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<style>
	img { max-width:900px; }
	.codeblock { 
	background: #B0B0B0; padding:1px 10px 0px 10px; border-radius: 5px; overflow-x:auto; 
	}
	code {
 font-family: monospace; font-size: inherit; color: #4f4f4a !important;
	}
	.inlineCode {
 font-family: monospace; font-size: inherit; 
	}
</style>
</head>
<body style="background: #F0F0F0;">
<div style="margin: 0 auto; width:1380px;  position: relative;" >
<div style="width:1000px; padding:20px; margin:0px; z-index: 5; text-align:left; background-color: #DCDCDC; border-radius: 5px; position:absolute; top:0; left:340px;">
<h1>ssh</h1>
<p>skönt att slippa koppla in tangentbord i rpi för att göra ändringar, logga in från mac/win istället</p>
<p>Enable: </p>
<pre class="codeblock"><code style="tab-size: 4;" class="bash codeblock">bash
#se till att ssh är enableat i raspi-config:
sudo raspi-config
- interface options
  - SSH -&gt; enable
    
</pre></code>
<h3 style="margin-left:0px;" id="ssh-keygen">ssh-keygen</h3>
<p>Skapa ett nyckel-par där du har den privata nyckeln lokalt (din mac/linux/win), och lägger den publika (.pub) på de servrar (rpi) du vill logga in på utan lösenord.</p>
<pre class="codeblock"><code style="tab-size: 4;" class="sh codeblock">shell
#på din mac/win:
ssh-keygen #svara default på allt (skippa lösen)
# nu kan du se att nyckelparet ligger under ~/.ssh

#kopiera den publika nyckeln till din rpi: (antar att användarnamn är &quot;pi&quot; å att nyckeln heter id_rsa.pub
ssh-copy-id -i ~/.ssh/id_rsa pi@http://raspberrypi.local #alt ip-adressen till din rpi
</pre></code>
<p></p>
<h2 style="margin-left:0px;" id="robustifiera_ssh">robustifiera ssh</h2>
<p>lägg till detta så att den verkligen starar om</p>
<pre class="codeblock"><code style="tab-size: 4;" class=" codeblock">
sudo systemctl edit ssh.service

### Editing /etc/systemd/system/ssh.service.d/override.conf
### Anything between here and the comment below will become the new contents of the file

[Unit]
# Se till att sshd startar först när nätverket är redo
After=network-online.target
Wants=network-online.target

[Service]
# Försök alltid starta om sshd om det misslyckas
Restart=always
RestartSec=5

### Lines below this comment will be discarded</div>
<div style="width:345px; padding-top: 20px;; position:absolute; top:0; left:0; overflow:auto;">
	<iframe src="treeview.html" width="340px" frameBorder="0" height="900px"></iframe>
</div>
</div>
</body>
</html>
